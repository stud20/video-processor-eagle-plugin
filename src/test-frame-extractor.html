<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>FrameExtractor í…ŒìŠ¤íŠ¸</title>
</head>
<body>
    <h1>FrameExtractor ë¡œë“œ í…ŒìŠ¤íŠ¸</h1>
    <div id="result"></div>

    <!-- í•„ìˆ˜ ëª¨ë“ˆë“¤ì„ ìˆœì„œëŒ€ë¡œ ë¡œë“œ -->
    <script src="modules/common/eagle-utils.js"></script>
    <script src="modules/common/config-manager.js"></script>
    <!-- í…ŒìŠ¤íŠ¸ìš© ê°„ë‹¨í•œ ë²„ì „ -->
    <script src="modules/frame-extractor-simple.js"></script>
    
    <script>
        console.log('=== FrameExtractor ë¡œë“œ í…ŒìŠ¤íŠ¸ ì‹œì‘ ===');
        
        // ì¦‰ì‹œ ì²´í¬
        console.log('ì¦‰ì‹œ ì²´í¬ - FrameExtractor:', typeof window.FrameExtractor);
        
        // 1ì´ˆ í›„ ì²´í¬
        setTimeout(() => {
            console.log('1ì´ˆ í›„ ì²´í¬ - FrameExtractor:', typeof window.FrameExtractor);
            
            const result = document.getElementById('result');
            if (typeof window.FrameExtractor === 'function') {
                result.innerHTML = '<p style="color: green;">âœ… FrameExtractor ë¡œë“œ ì„±ê³µ!</p>';
                console.log('âœ… FrameExtractor ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë¨');
                
                // í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± í…ŒìŠ¤íŠ¸
                try {
                    const extractor = new FrameExtractor();
                    console.log('âœ… FrameExtractor ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì„±ê³µ:', extractor);
                    result.innerHTML += '<p style="color: blue;">ğŸ“¦ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ë„ ì„±ê³µ!</p>';
                } catch (error) {
                    console.error('âŒ FrameExtractor ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹¤íŒ¨:', error);
                    result.innerHTML += '<p style="color: orange;">âš ï¸ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹¤íŒ¨: ' + error.message + '</p>';
                }
            } else {
                result.innerHTML = '<p style="color: red;">âŒ FrameExtractor ë¡œë“œ ì‹¤íŒ¨</p>';
                console.error('âŒ FrameExtractor ë¡œë“œ ì‹¤íŒ¨');
                
                // ë””ë²„ê¹… ì •ë³´ ìˆ˜ì§‘
                const debugInfo = {
                    windowKeys: Object.keys(window).filter(k => k.includes('Extractor') || k.includes('Frame')),
                    scriptTags: Array.from(document.querySelectorAll('script[src]')).map(s => ({
                        src: s.src,
                        loaded: s.readyState
                    })),
                    errors: window.onerror || 'No errors captured'
                };
                
                console.log('ë””ë²„ê¹… ì •ë³´:', debugInfo);
                result.innerHTML += '<pre style="color: red; font-size: 12px;">' + JSON.stringify(debugInfo, null, 2) + '</pre>';
            }
        }, 1000);
        
        // ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        document.addEventListener('DOMContentLoaded', () => {
            const scripts = document.querySelectorAll('script[src*="frame-extractor"]');
            scripts.forEach(script => {
                script.addEventListener('load', () => {
                    console.log('âœ… frame-extractor.js ë¡œë“œ ì™„ë£Œ');
                });
                script.addEventListener('error', (e) => {
                    console.error('âŒ frame-extractor.js ë¡œë“œ ì˜¤ë¥˜:', e);
                });
            });
        });
        
        // ì „ì—­ ì—ëŸ¬ ìºì²˜
        window.addEventListener('error', (e) => {
            if (e.filename && e.filename.includes('frame-extractor')) {
                console.error('âŒ frame-extractor.js ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜:', {
                    message: e.message,
                    filename: e.filename,
                    lineno: e.lineno,
                    colno: e.colno
                });
            }
        });
    </script>
</body>
</html>
